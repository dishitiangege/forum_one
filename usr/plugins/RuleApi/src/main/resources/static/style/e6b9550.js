(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{441:function(e,t,l){"use strict";l.r(t);l(35),l(36),l(56);var o={layout:"layout",head:function(){return{title:"应用列表"}},data:function(){return{key:"",applist:[],curApp:{id:0,name:"",type:"app",logo:"",keywords:"",description:"",announcement:"",mail:"",website:"",currencyName:"",adpid:"",version:"",versionCode:"",versionIntro:"",androidUrl:"",iosUrl:"",field1:"",field2:""},dialogAdd:!1,dialogEdit:!1,form:{name:"",type:"app",logo:"",keywords:"",description:"",announcement:"",mail:"",website:"",currencyName:"",adpid:"",version:"",versionCode:"",versionIntro:"",androidUrl:"",iosUrl:"",field1:"",field2:""}}},beforeDestroy:function(){},created:function(){},mounted:function(){var e=this;localStorage.getItem("webkey")?e.key=localStorage.getItem("webkey"):(e.$message({message:"认证失效！",type:"error"}),e.$router.push({path:"/"})),e.getList()},methods:{goEdit:function(data){this.dialogEdit=!0,this.curApp=data},add:function(){var e=this,t=e.form,data={webkey:e.key,params:JSON.stringify(t)},l=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$axios.$post(e.$api.addApp(),this.qs.stringify(data)).then((function(t){l.close(),1==t.code?(e.dialogAdd=!1,e.$message({message:t.msg,type:"success"}),e.getList()):e.$message({message:t.msg,type:"error"})})).catch((function(t){l.close(),console.log(t),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},edit:function(){var e=this,t=e.curApp,data={webkey:e.key,params:JSON.stringify(t)},l=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$axios.$post(e.$api.updateApp(),this.qs.stringify(data)).then((function(t){l.close(),1==t.code?(e.dialogEdit=!1,e.$message({message:t.msg,type:"success"}),e.getList()):e.$message({message:t.msg,type:"error"})})).catch((function(t){l.close(),console.log(t),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},remove:function(e){var t=this,l=this;l.$confirm("确认删除该套餐？","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){var data={webkey:l.key,id:e},o=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l.$axios.$post(l.$api.deleteApp(),t.qs.stringify(data)).then((function(e){o.close(),1==e.code?(l.$message({message:e.msg,type:"success"}),l.getList()):l.$message({message:e.msg,type:"error"})})).catch((function(e){o.close(),console.log(e),l.$message({message:"接口请求异常，请检查网络！",type:"error"})}))})).catch((function(){}))},getList:function(){var e=this,data={webkey:e.key};e.$axios.$post(e.$api.appList(),this.qs.stringify(data)).then((function(t){1==t.code&&(e.applist=t.data)})).catch((function(t){console.log(t),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},goPic:function(e){window.open(e)}}},r=l(26),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-container"},[t("el-row",{attrs:{gutter:15}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"data-box"},[t("div",{staticClass:"page-title"},[t("h4",[e._v("应用列表")]),e._v(" "),t("p",[e._v("在这里添加WEB或者APP应用，通过Key进行交互，在客户端获得信息")])]),e._v(" "),t("div",{staticClass:"page-concent"},[t("div",{staticClass:"page-operate"},[t("el-button",{attrs:{type:"success"},on:{click:function(t){e.dialogAdd=!0}}},[e._v("添加应用")])],1),e._v(" "),t("div",{staticClass:"page-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.applist,border:""}},[t("el-table-column",{attrs:{prop:"name",label:"应用名称"}}),e._v(" "),t("el-table-column",{attrs:{label:"应用Key"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",{staticStyle:{color:"#F56C6C","font-weight":"bold"}},[e._v(e._s(l.row.keyKey))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"应用类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(l){return["web"==l.row.type?t("el-button",{attrs:{type:"primary",size:"small",round:"",icon:"el-icon-s-platform"}},[e._v("WEB")]):e._e(),e._v(" "),"app"==l.row.type?t("el-button",{attrs:{type:"success",size:"small",round:"",icon:"el-icon-s-opportunity"}},[e._v("APP")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"logo",label:"Logo图片"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"info",size:"small",round:"",icon:"el-icon-picture"},on:{click:function(t){return e.goPic(l.row.logo)}}},[e._v("查看")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.goEdit(l.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.remove(l.row.id)}}},[e._v("删除")])]}}])})],1)],1)])])])],1),e._v(" "),t("el-dialog",{attrs:{title:"添加应用",visible:e.dialogAdd,"modal-append-to-body":!1,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogAdd=t}}},[t("div",{staticClass:"dialog-form"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top","label-width":"80px"}},[t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用名称")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入应用名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用类型")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-option",{attrs:{label:"APP应用",value:"app"}}),e._v(" "),t("el-option",{attrs:{label:"WEB应用",value:"web"}})],1)],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("logo图标地址"),t("span",[e._v("需要http请求头的完整地址")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入logo图标地址"},model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}})],1),e._v(" "),"web"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("SEO关键词"),t("span",[e._v("以英文逗号分割")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入SEO关键词"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用简介")]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入应用简介"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("弹窗公告"),t("span",[e._v("支持Html代码")])]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入弹窗公告信息"},model:{value:e.form.announcement,callback:function(t){e.$set(e.form,"announcement",t)},expression:"form.announcement"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("邮箱地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入邮箱地址"},model:{value:e.form.mail,callback:function(t){e.$set(e.form,"mail",t)},expression:"form.mail"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("网站地址"),t("span",[e._v("非API地址，需要http请求头的完整地址，斜杠结尾")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入网站地址"},model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}})],1),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("广告联盟ID"),t("span",[e._v("用于APP内激励视频等广告，目前仅支持uniapp官方")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输广告联盟ID"},model:{value:e.form.adpid,callback:function(t){e.$set(e.form,"adpid",t)},expression:"form.adpid"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("货币名称")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入货币名称"},model:{value:e.form.currencyName,callback:function(t){e.$set(e.form,"currencyName",t)},expression:"form.currencyName"}})],1),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本号"),t("span",[e._v("用于APP更新")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入版本号"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1):e._e(),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本码"),t("span",[e._v("只允许整数，用于APP更新")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入版本码"},model:{value:e.form.versionCode,callback:function(t){e.$set(e.form,"versionCode",t)},expression:"form.versionCode"}})],1):e._e(),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本更新内容")]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入版本更新内容"},model:{value:e.form.versionIntro,callback:function(t){e.$set(e.form,"versionIntro",t)},expression:"form.versionIntro"}})],1):e._e(),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("安卓下载地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入安卓下载地址"},model:{value:e.form.androidUrl,callback:function(t){e.$set(e.form,"androidUrl",t)},expression:"form.androidUrl"}})],1):e._e(),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("ios下载地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入ios下载地址"},model:{value:e.form.iosUrl,callback:function(t){e.$set(e.form,"iosUrl",t)},expression:"form.iosUrl"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("预留字段1")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.form.field1,callback:function(t){e.$set(e.form,"field1",t)},expression:"form.field1"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("预留字段2")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.form.field2,callback:function(t){e.$set(e.form,"field2",t)},expression:"form.field2"}})],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogAdd=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确认添加")])],1)]),e._v(" "),t("el-dialog",{attrs:{title:"编辑应用",visible:e.dialogEdit,"modal-append-to-body":!1,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("div",{staticClass:"dialog-form"},[t("el-form",{ref:"form",attrs:{model:e.curApp,"label-position":"top","label-width":"80px"}},[t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用ID")]),e._v(" "),t("el-input",{attrs:{value:e.curApp.id,type:"text",disabled:""}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用名称")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入应用名称"},model:{value:e.curApp.name,callback:function(t){e.$set(e.curApp,"name",t)},expression:"curApp.name"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("logo图标地址"),t("span",[e._v("需要http请求头的完整地址")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入logo图标地址"},model:{value:e.curApp.logo,callback:function(t){e.$set(e.curApp,"logo",t)},expression:"curApp.logo"}})],1),e._v(" "),"web"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("SEO关键词"),t("span",[e._v("以英文逗号分割")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入SEO关键词"},model:{value:e.curApp.keywords,callback:function(t){e.$set(e.curApp,"keywords",t)},expression:"curApp.keywords"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("应用简介")]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入应用简介"},model:{value:e.curApp.description,callback:function(t){e.$set(e.curApp,"description",t)},expression:"curApp.description"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("弹窗公告"),t("span",[e._v("支持Html代码")])]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入弹窗公告信息"},model:{value:e.curApp.announcement,callback:function(t){e.$set(e.curApp,"announcement",t)},expression:"curApp.announcement"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("邮箱地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入邮箱地址"},model:{value:e.curApp.mail,callback:function(t){e.$set(e.curApp,"mail",t)},expression:"curApp.mail"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("网站地址"),t("span",[e._v("非API地址，需要http请求头的完整地址，斜杠结尾")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入网站地址"},model:{value:e.curApp.website,callback:function(t){e.$set(e.curApp,"website",t)},expression:"curApp.website"}})],1),e._v(" "),"app"==e.form.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("广告联盟ID"),t("span",[e._v("用于APP内激励视频等广告，目前仅支持uniapp官方")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入告联盟ID"},model:{value:e.curApp.adpid,callback:function(t){e.$set(e.curApp,"adpid",t)},expression:"curApp.adpid"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("货币名称")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入货币名称"},model:{value:e.curApp.currencyName,callback:function(t){e.$set(e.curApp,"currencyName",t)},expression:"curApp.currencyName"}})],1),e._v(" "),"app"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本号"),t("span",[e._v("用于APP更新")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入版本号"},model:{value:e.curApp.version,callback:function(t){e.$set(e.curApp,"version",t)},expression:"curApp.version"}})],1):e._e(),e._v(" "),"app"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本码"),t("span",[e._v("只允许整数，用于APP更新")])]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入版本码"},model:{value:e.curApp.versionCode,callback:function(t){e.$set(e.curApp,"versionCode",t)},expression:"curApp.versionCode"}})],1):e._e(),e._v(" "),"app"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("版本更新内容")]),e._v(" "),t("el-input",{attrs:{type:"textarea",placeholder:"请输入版本更新内容"},model:{value:e.curApp.versionIntro,callback:function(t){e.$set(e.curApp,"versionIntro",t)},expression:"curApp.versionIntro"}})],1):e._e(),e._v(" "),"app"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("安卓下载地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入安卓下载地址"},model:{value:e.curApp.androidUrl,callback:function(t){e.$set(e.curApp,"androidUrl",t)},expression:"curApp.androidUrl"}})],1):e._e(),e._v(" "),"app"==e.curApp.type?t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("ios下载地址")]),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"请输入ios下载地址"},model:{value:e.curApp.iosUrl,callback:function(t){e.$set(e.curApp,"iosUrl",t)},expression:"curApp.iosUrl"}})],1):e._e(),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("预留字段1")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.curApp.field1,callback:function(t){e.$set(e.curApp,"field1",t)},expression:"curApp.field1"}})],1),e._v(" "),t("el-form-item",[t("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("预留字段2")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.curApp.field2,callback:function(t){e.$set(e.curApp,"field2",t)},expression:"curApp.field2"}})],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("保存修改")])],1)])],1)}),[],!1,null,null,null);t.default=component.exports}}]);